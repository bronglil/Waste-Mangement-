(function(){"use strict";var e={7198:function(e,t,a){var o=a(5130),s=a(6768);const l={id:"app"};function r(e,t){const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("nav",l,[(0,s.bF)(a)])}var n=a(1241);const i={},c=(0,n.A)(i,[["render",r]]);var d=c,u=a(1387),m=a(4232);const b={class:"absolute w-full h-full"},g={class:"container mx-auto px-4 h-full"},h={class:"flex content-center items-center justify-center h-full"},p={class:"w-full lg:w-4/12 px-4"},v={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0"},f={class:"flex-auto px-4 lg:px-10 py-10 pt-0"},x={class:"relative w-full mb-3"},y={class:"relative w-full mb-3"},k={class:"relative"},w=["type"];function L(e,t,a,l,r,n){const i=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("main",null,[(0,s.Lk)("section",b,[(0,s.Lk)("div",{class:"absolute top-0 w-full h-full",style:(0,m.Tr)([{"background-size":"100%","background-repeat":"no-repeat"},{"background-image":"url("+r.bgImage+")"}])},null,4),(0,s.Lk)("div",g,[(0,s.Lk)("div",h,[(0,s.Lk)("div",p,[(0,s.Lk)("div",v,[t[8]||(t[8]=(0,s.Lk)("div",{class:"rounded-t mb-0 px-6 py-6",style:{backgroundColor:"#4a90e2"}},[(0,s.Lk)("div",{class:"text-center mb-3"},[(0,s.Lk)("h6",{class:"text-white text-lg font-bold"},"Sign in")]),(0,s.Lk)("hr",{class:"mt-4 border-b-1 border-gray-200"})],-1)),(0,s.Lk)("div",f,[(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>n.handleSubmit&&n.handleSubmit(...e)),["prevent"]))},[(0,s.Lk)("div",x,[t[4]||(t[4]=(0,s.Lk)("label",{class:"flex items-center block text-gray-700 text-sm font-bold mb-2",for:"email"}," Email ",-1)),(0,s.bo)((0,s.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.form.email=e),type:"email",class:"border px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:border-[#4a90e2] w-full",placeholder:"Email"},null,512),[[o.Jo,r.form.email]])]),(0,s.Lk)("div",y,[t[5]||(t[5]=(0,s.Lk)("label",{class:"flex items-center block text-gray-700 text-sm font-bold mb-2",for:"password"}," Password ",-1)),(0,s.Lk)("div",k,[(0,s.bo)((0,s.Lk)("input",{id:"password",type:r.showPassword?"text":"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.form.password=e),class:"border px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:border-[#4a90e2] w-full",placeholder:"Password"},null,8,w),[[o.hp,r.form.password]]),(0,s.Lk)("span",{class:"absolute inset-y-0 right-4 flex items-center cursor-pointer text-gray-500",onClick:t[2]||(t[2]=(...e)=>n.togglePassword&&n.togglePassword(...e))},[(0,s.bF)(i,{icon:r.showPassword?"mdi:eye-off":"mdi:eye",class:"text-lg",style:{color:"#4a90e2"}},null,8,["icon"])])])]),t[6]||(t[6]=(0,s.Lk)("div",{class:"text-center mt-6"},[(0,s.Lk)("button",{class:"bg-[#4a90e2] text-white hover:bg-blue-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none w-full",type:"submit"}," Sign In ")],-1))],32),t[7]||(t[7]=(0,s.Fv)('<div class="flex flex-wrap mt-6" data-v-55a4708a><div class="w-1/2" data-v-55a4708a><a href="#forgot-password" class="text-gray-400 hover:text-[#4a90e2] text-sm" data-v-55a4708a> Forgot password? </a></div><div class="w-1/2 text-right" data-v-55a4708a><a href="/signup" class="text-gray-400 hover:text-[#4a90e2] text-sm" data-v-55a4708a> Create new account </a></div></div>',1))])])])])])])])}a(4114);var N=a.p+"img/register_bg_2.c49fa1dc.png",E=a(2484),C=a(782),D={name:"LoginPage",components:{Icon:E.In},data(){return{bgImage:N,form:{email:"",password:""},showPassword:!1}},methods:{...(0,C.i0)("auth",["login"]),async handleSubmit(){try{const{email:e,password:t}=this.form;console.log(e,t,"email, password"),await this.login({credentials:{email:e,password:t},source:"LoginPage"}),this.$router.push("/dashboard")}catch(e){alert("Error: "+e.message)}},togglePassword(){this.showPassword=!this.showPassword}}};const S=(0,n.A)(D,[["render",L],["__scopeId","data-v-55a4708a"]]);var I=S;const A={class:"absolute w-full h-full"},_={class:"container mx-auto px-4 h-full"},M={class:"flex content-center items-center justify-center h-full"},V={class:"w-full lg:w-4/12 px-4"},F={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0"},T={class:"flex-auto px-4 lg:px-10 py-10 pt-0"},X={class:"relative w-full mb-3"},B={class:"relative w-full mb-3"},$={class:"relative w-full mb-3"},U={class:"relative w-full mb-3"},j={class:"relative w-full mb-3"},P={class:"relative"},O=["type"];function R(e,t,a,l,r,n){const i=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("main",null,[(0,s.Lk)("section",A,[(0,s.Lk)("div",{class:"absolute top-0 w-full h-full",style:(0,m.Tr)([{"background-size":"100%","background-repeat":"no-repeat"},{"background-image":"url("+r.bgImage+")"}])},null,4),(0,s.Lk)("div",_,[(0,s.Lk)("div",M,[(0,s.Lk)("div",V,[(0,s.Lk)("div",F,[t[13]||(t[13]=(0,s.Lk)("div",{class:"rounded-t mb-0 px-6 py-6",style:{backgroundColor:"#4a90e2"}},[(0,s.Lk)("div",{class:"text-center mb-3"},[(0,s.Lk)("h6",{class:"text-white text-lg font-bold"},"Sign up")]),(0,s.Lk)("hr",{class:"mt-4 border-b-1 border-gray-200"})],-1)),(0,s.Lk)("div",T,[(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>n.handleSubmit&&n.handleSubmit(...e)),["prevent"]))},[(0,s.Lk)("div",X,[t[7]||(t[7]=(0,s.Lk)("label",{class:"flex items-center text-gray-700 text-sm font-bold mb-2",for:"firstName"}," First Name ",-1)),(0,s.bo)((0,s.Lk)("input",{id:"firstName","onUpdate:modelValue":t[0]||(t[0]=e=>r.form.firstName=e),type:"text",class:"border px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:border-[#4a90e2] w-full",placeholder:"First Name"},null,512),[[o.Jo,r.form.firstName]])]),(0,s.Lk)("div",B,[t[8]||(t[8]=(0,s.Lk)("label",{class:"flex items-center text-gray-700 text-sm font-bold mb-2",for:"lastName"}," Last Name ",-1)),(0,s.bo)((0,s.Lk)("input",{id:"lastName","onUpdate:modelValue":t[1]||(t[1]=e=>r.form.lastName=e),type:"text",class:"border px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:border-[#4a90e2] w-full",placeholder:"Last Name"},null,512),[[o.Jo,r.form.lastName]])]),(0,s.Lk)("div",$,[t[9]||(t[9]=(0,s.Lk)("label",{class:"flex items-center text-gray-700 text-sm font-bold mb-2",for:"phone"}," Phone ",-1)),(0,s.bo)((0,s.Lk)("input",{id:"phone","onUpdate:modelValue":t[2]||(t[2]=e=>r.form.phone=e),type:"tel",class:"border px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:border-[#4a90e2] w-full",placeholder:"Phone"},null,512),[[o.Jo,r.form.phone]])]),(0,s.Lk)("div",U,[t[10]||(t[10]=(0,s.Lk)("label",{class:"flex items-center text-gray-700 text-sm font-bold mb-2",for:"email"}," Email ",-1)),(0,s.bo)((0,s.Lk)("input",{id:"email","onUpdate:modelValue":t[3]||(t[3]=e=>r.form.email=e),type:"email",class:"border px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:border-[#4a90e2] w-full",placeholder:"Email"},null,512),[[o.Jo,r.form.email]])]),(0,s.Lk)("div",j,[t[11]||(t[11]=(0,s.Lk)("label",{class:"flex items-center text-gray-700 text-sm font-bold mb-2",for:"password"}," Password ",-1)),(0,s.Lk)("div",P,[(0,s.bo)((0,s.Lk)("input",{id:"password",type:r.showPassword?"text":"password","onUpdate:modelValue":t[4]||(t[4]=e=>r.form.password=e),class:"border px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:border-[#4a90e2] w-full",placeholder:"Password"},null,8,O),[[o.hp,r.form.password]]),(0,s.Lk)("span",{class:"absolute inset-y-0 right-4 flex items-center cursor-pointer text-gray-500",onClick:t[5]||(t[5]=(...e)=>n.togglePassword&&n.togglePassword(...e))},[(0,s.bF)(i,{icon:r.showPassword?"mdi:eye-off":"mdi:eye",class:"text-lg",style:{color:"#4a90e2"}},null,8,["icon"])])])]),t[12]||(t[12]=(0,s.Lk)("div",{class:"text-center mt-6"},[(0,s.Lk)("button",{class:"bg-[#4a90e2] text-white hover:bg-blue-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none w-full",type:"submit"}," Sign Up ")],-1))],32)])]),t[14]||(t[14]=(0,s.Lk)("div",{class:"flex flex-wrap mt-6"},[(0,s.Lk)("div",{class:"w-full text-center"},[(0,s.Lk)("a",{href:"#login",class:"text-[#4a90e2] hover:text-blue-600 text-sm"}," Already have an account? Login here ")])],-1))])])])])])}var K={name:"SignupPage",components:{Icon:E.In},data(){return{bgImage:N,form:{firstName:"",lastName:"",phone:"",email:"",password:""},showPassword:!1}},methods:{...(0,C.i0)("auth",["signup"]),async handleSubmit(){try{const{firstName:e,lastName:t,phone:a,email:o,password:s}=this.form;await this.signup({firstName:e,lastName:t,phone:a,email:o,password:s}),this.$router.push("/dashboard")}catch(e){alert("Error: "+e.message)}},togglePassword(){this.showPassword=!this.showPassword}}};const J=(0,n.A)(K,[["render",R],["__scopeId","data-v-3a5831d5"]]);var q=J;const W={class:"min-h-screen bg-gray-100 p-6"},z={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},Q={class:"bg-white rounded-xl shadow-md p-4"},H={class:"text-2xl font-semibold text-gray-800"},G={class:"bg-white rounded-xl shadow-md p-4"},Y={class:"text-2xl font-semibold text-gray-800"},Z={class:"bg-white rounded-xl shadow-md p-4"},ee={class:"text-2xl font-semibold text-gray-800"},te={class:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 gap-6"},ae={class:"bg-white rounded-xl shadow-md p-4"},oe={class:"text-2xl font-semibold text-gray-800"},se={class:"bg-white rounded-xl shadow-md p-4"},le={class:"text-2xl font-semibold text-gray-800"},re={class:"bg-white rounded-xl shadow-md p-4"},ne={class:"text-2xl font-semibold text-gray-800"},ie={class:"bg-white rounded-xl shadow-md p-4 mt-6"},ce={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4"},de={class:"text-sm font-medium text-gray-800"},ue={class:"text-xs text-gray-500"};function me(e,t,a,o,l,r){const n=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("div",W,[t[10]||(t[10]=(0,s.Lk)("div",{class:"flex justify-between items-center mb-6"},[(0,s.Lk)("h1",{class:"text-2xl font-bold text-gray-800"},"Dashboard")],-1)),(0,s.Lk)("div",null,[(0,s.Lk)("div",z,[(0,s.Lk)("div",Q,[t[0]||(t[0]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"Total Admins",-1)),(0,s.Lk)("h2",H,(0,m.v_)(l.dashboardMetrics.totalAdmins),1)]),(0,s.Lk)("div",G,[t[1]||(t[1]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"Total Drivers",-1)),(0,s.Lk)("h2",Y,(0,m.v_)(l.dashboardMetrics.totalDrivers),1)]),(0,s.Lk)("div",Z,[t[2]||(t[2]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"Active Drivers",-1)),(0,s.Lk)("h2",ee,(0,m.v_)(l.dashboardMetrics.activeDrivers),1)]),(0,s.Lk)("div",{class:(0,m.C4)(["bg-white rounded-xl shadow-md p-4",l.dashboardMetrics.inactiveDrivers>0?"border-red-500 border":""])},[t[3]||(t[3]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"Non Active Drivers",-1)),(0,s.Lk)("h2",{class:(0,m.C4)(["text-2xl font-semibold",l.dashboardMetrics.inactiveDrivers>0?"text-red-600":"text-gray-800"])},(0,m.v_)(l.dashboardMetrics.inactiveDrivers),3)],2)]),t[4]||(t[4]=(0,s.Lk)("div",{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},null,-1))]),(0,s.Lk)("div",te,[(0,s.Lk)("div",ae,[t[5]||(t[5]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"Total Bins",-1)),(0,s.Lk)("h2",oe,(0,m.v_)(l.dashboardMetrics.totalBins),1)]),(0,s.Lk)("div",{class:(0,m.C4)(["bg-white rounded-xl shadow-md p-4",l.dashboardMetrics.binsAboveThreshold>0?"border-red-500 border":""])},[t[6]||(t[6]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"No. of Full Bins",-1)),(0,s.Lk)("h2",{class:(0,m.C4)(["text-2xl font-semibold",l.dashboardMetrics.binsAboveThreshold>0?"text-red-600":"text-gray-800"])},(0,m.v_)(l.dashboardMetrics.binsAboveThreshold),3)],2),(0,s.Lk)("div",se,[t[7]||(t[7]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"No. of Normal Bins",-1)),(0,s.Lk)("h2",le,(0,m.v_)(l.dashboardMetrics.binsInProgress),1)]),(0,s.Lk)("div",re,[t[8]||(t[8]=(0,s.Lk)("p",{class:"text-sm text-gray-600"},"No. of Empty Bins",-1)),(0,s.Lk)("h2",ne,(0,m.v_)(l.dashboardMetrics.binsBelowThreshold),1)])]),t[11]||(t[11]=(0,s.Fv)('<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6" data-v-72f1468c><div class="bg-white rounded-xl shadow-md p-4" data-v-72f1468c><h2 class="text-lg font-semibold text-gray-800 mb-4" data-v-72f1468c>Bin Status Overview</h2><canvas id="binStatusChart" style="max-height:500px;" data-v-72f1468c></canvas></div><div class="bg-white rounded-xl shadow-md p-4" data-v-72f1468c><h2 class="text-lg font-semibold text-gray-800 mb-4" data-v-72f1468c>Driver Activity</h2><canvas id="driverActivityChart" style="max-height:500px;" data-v-72f1468c></canvas></div></div>',1)),(0,s.Lk)("div",ie,[t[9]||(t[9]=(0,s.Lk)("h2",{class:"text-lg font-semibold text-gray-800 text-left"},"Admins",-1)),(0,s.Lk)("div",ce,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.drivers,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"bg-gray-50 p-4 rounded-lg shadow-sm flex items-center space-x-4"},[(0,s.bF)(n,{icon:"mdi:account-circle",class:"text-blue-500 w-10 h-10"}),(0,s.Lk)("div",null,[(0,s.Lk)("h3",de,(0,m.v_)(e.name),1),(0,s.Lk)("p",ue,(0,m.v_)(e.email),1),(0,s.Lk)("span",{class:(0,m.C4)([{"text-green-500":"Active"===e.status,"text-red-500":"Inactive"===e.status},"text-xs font-medium"])},(0,m.v_)(e.status),3)])])))),128))])])])}a(1454);var be=a(144),ge=a(3456),he=a(4373);const pe=he.A.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});var ve=pe;const fe=async e=>{if(!e.firstName||!e.lastName||!e.contact||!e.email||!e.role)throw new Error("All fields are required.");try{const{data:t}=await ve.post("/drivers",{firstName:e.firstName,lastName:e.lastName,contactNumber:e.contact,email:e.email,userRole:e.role});return t}catch(t){throw console.error("Error sending admin invite:",t.response?t.response.data:t.message),t}},xe=async e=>{if(!e)throw new Error("Admin ID is required.");try{const{data:t}=await ve.get(`/drivers/${e}`);return t}catch(t){throw console.error("Error fetching admin data:",t.response?t.response.data:t.message),t}},ye=async(e,t)=>{if(!e||!t)throw new Error("ID and admin data are required.");try{const{data:a}=await ve.put(`/drivers/${e}`,{firstName:t.firstName,lastName:t.lastName,contactNumber:t.contactNumber,email:t.email,userRole:t.role});return a}catch(a){throw console.error("Error updating admin data:",a.response?a.response.data:a.message),a}},ke=async()=>{try{const{data:e}=await ve.get("/dashboard/metrics");return console.log(e),console.log("hello"),e}catch(e){throw console.error("Error fetching Dashboard Data:",e.response?e.response.data:e.message),e}};var we=[1,1,1],Le={data(){return{dashboardMetrics:{totalDrivers:0,activeDrivers:0,inactiveDrivers:0,totalAdmins:0,totalVehicles:0,vehiclesWithoutUser:0,totalBins:0,binsAboveThreshold:0,binsInProgress:0,binsBelowThreshold:0},error:null}},methods:{async fetchDashboardMetrics(){try{const e=await ke();this.dashboardMetrics=e,we[0]=this.dashboardMetrics.binsAboveThreshold,we[1]=this.dashboardMetrics.binsBelowThreshold,we[2]=this.dashboardMetrics.binsInProgress,this.initializeCharts()}catch(e){console.error("Error fetching dashboard metrics:",e),this.error="Failed to load metrics. Please try again later."}},initializeCharts(){const e=document.getElementById("binStatusChart").getContext("2d");new ge.Ay(e,{type:"doughnut",data:{labels:["Full","Empty","In Progress"],datasets:[{label:"Bin Status",data:we,backgroundColor:["#ff6384","#36a2eb","#ffcd56"]}]},options:{plugins:{tooltip:{callbacks:{label:function(e){const t=e.label||"",a=e.raw||0;return`${t}: ${a}`}}},legend:{display:!0,position:"top"}}}});const t=document.getElementById("driverActivityChart").getContext("2d");new ge.Ay(t,{type:"bar",data:{labels:["Active Drivers","Inactive Drivers"],datasets:[{label:"Driver Status",data:[this.dashboardMetrics.activeDrivers,this.dashboardMetrics.inactiveDrivers],backgroundColor:["#4caf50","#ff6384"]}]},options:{scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Drivers"}}},plugins:{legend:{display:!1}}}})},async fetchAdminDrivers(){try{const e=await fetch("http://localhost:8080/api/admin/admins"),t=await e.json();this.drivers=t.map((e=>({id:e.id,name:`${e.firstName} ${e.lastName}`,email:e.email,status:e.status,image:"https://via.placeholder.com/150"})))}catch(e){console.error("Error fetching drivers:",e),this.error="Failed to load drivers. Please try again later."}}},mounted(){this.fetchDashboardMetrics(),this.fetchAdminDrivers()},components:{Icon:E.In},setup(){const e=(0,be.KR)([]),t=(0,be.KR)([{id:1,brand:"Toyota",plateNumber:"ABC-123"},{id:2,brand:"Ford",plateNumber:"XYZ-789"}]),a=(0,be.KR)([{id:1,location:"Sector A",status:"Full"},{id:2,location:"Sector B",status:"Empty"},{id:3,location:"Sector C",status:"In Progress"}]),o=(0,be.KR)([{type:"info",icon:"mdi:truck",message:"New vehicle added.",timestamp:"10 mins ago"},{type:"success",icon:"mdi:account-check",message:"Driver Neil Sims status updated.",timestamp:"1 hour ago"},{type:"warning",icon:"mdi:alert",message:"Bin in Sector A reported full.",timestamp:"2 hours ago"}]);return{drivers:e,vehicles:t,bins:a,recentActivities:o}}};const Ne=(0,n.A)(Le,[["render",me],["__scopeId","data-v-72f1468c"]]);var Ee=Ne;const Ce=async e=>{if(!e.email||!e.password)throw new Error("Email and password are required.");const{data:t}=await ve.post("/auth/login",e);return t};var De={namespaced:!0,state:{token:localStorage.getItem("auth_token")||null,user:(()=>{try{const e=localStorage.getItem("auth_user");return e?JSON.parse(e):null}catch(e){return console.error("Failed to parse auth_user:",e),null}})()},getters:{isAuthenticated:e=>!!e.token,userFullName:e=>e.user?`${e.user.firstName} ${e.user.lastName}`:null,userRole:e=>e.user?.userRole||null,userEmail:e=>e.user?.email||null,userId:e=>e.user?.userId||null},mutations:{SET_TOKEN(e,t){e.token=t,localStorage.setItem("auth_token",t)},SET_USER(e,t){e.user=t,localStorage.setItem("auth_user",JSON.stringify(t))},CLEAR_AUTH(e){e.token=null,e.user=null,localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}},actions:{async login({commit:e,state:t},{credentials:a,source:o}){console.log(`Login called from: ${o}`);try{const o=await Ce(a),{token:s,...l}=o;return t.token!==s&&e("SET_TOKEN",s),e("SET_USER",l),{token:s,user:l}}catch(s){throw new Error("Login failed: "+s.message)}},logout({commit:e}){e("CLEAR_AUTH")}}},Se=(0,C.y$)({modules:{auth:De}});const Ie={class:"auth-layout"},Ae={class:"main-content"},_e={class:"content-area"};function Me(e,t,a,o,l,r){const n=(0,s.g2)("Navbar"),i=(0,s.g2)("Sidebar"),c=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",Ie,[(0,s.bF)(n),(0,s.Lk)("div",Ae,[(0,s.bF)(i),(0,s.Lk)("div",_e,[(0,s.bF)(c)])])])}var Ve=a.p+"img/logorecycle.5b20b293.png",Fe=a.p+"img/settings.993e8612.svg",Te=a.p+"img/logout.31a60ca0.svg";const Xe={class:"navbar"},Be={class:"navbar-actions"},$e={key:0,class:"dropdown-menu"};function Ue(e,t,a,o,l,r){const n=(0,s.g2)("InviteAdminModal");return(0,s.uX)(),(0,s.CE)("header",Xe,[t[7]||(t[7]=(0,s.Lk)("div",{class:"navbar-brand"},[(0,s.Lk)("img",{src:Ve,alt:"Logo",class:"logo"}),(0,s.Lk)("span",{class:"brand-name"},"Waste Management")],-1)),(0,s.Lk)("nav",Be,[(0,s.Lk)("div",{class:"action-item relative",onClick:t[3]||(t[3]=(...e)=>r.toggleSettingsDropdown&&r.toggleSettingsDropdown(...e))},[t[5]||(t[5]=(0,s.Lk)("img",{src:Fe,alt:"Setting",class:"icon"},null,-1)),l.isSettingsOpen?((0,s.uX)(),(0,s.CE)("div",$e,[(0,s.Lk)("button",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>r.openAccountSettings&&r.openAccountSettings(...e))},"Account Settings"),(0,s.Lk)("button",{class:"dropdown-item",onClick:t[1]||(t[1]=(...e)=>r.openHelp&&r.openHelp(...e))},"Help & Support"),(0,s.Lk)("button",{class:"dropdown-item",onClick:t[2]||(t[2]=(...e)=>r.openInviteAdminModal&&r.openInviteAdminModal(...e))},"Invite Admin")])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",{class:"action-item",onClick:t[4]||(t[4]=(...e)=>r.handleLogout&&r.handleLogout(...e))},t[6]||(t[6]=[(0,s.Lk)("img",{src:Te,alt:"Logout",class:"icon"},null,-1),(0,s.Lk)("span",{class:"tooltip"},"Logout",-1)]))]),l.isInviteAdminModalOpen?((0,s.uX)(),(0,s.Wv)(n,{key:0,onClose:r.closeInviteAdminModal},null,8,["onClose"])):(0,s.Q3)("",!0)])}const je={class:"modal-invite fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-9999 backdrop-blur-sm"},Pe={class:"bg-white rounded-xl shadow-lg w-full max-w-md p-6 relative"},Oe={class:"pb-4"},Re={class:"pb-4"},Ke={class:"pb-4"},Je={class:"pb-4"},qe={class:"pb-4"},We=["value"],ze={class:"flex justify-end"},Qe=["disabled"];function He(e,t,a,l,r,n){const i=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.Wv)(s.Im,{to:"body"},[(0,s.Lk)("div",je,[(0,s.Lk)("div",Pe,[(0,s.Lk)("button",{"aria-label":"Close modal",class:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 focus:outline-none",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.bF)(i,{icon:"mdi:close",class:"text-gray-600 w-5 h-5"})]),t[13]||(t[13]=(0,s.Lk)("h2",{class:"text-xl font-semibold text-gray-800 mb-6"}," Invite Admin ",-1)),(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>l.handleSubmit&&l.handleSubmit(...e)),["prevent"])),class:"border-none m-2 p-2"},[(0,s.Lk)("div",Oe,[t[7]||(t[7]=(0,s.Lk)("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-2"}," First Name ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[1]||(t[1]=e=>l.adminData.firstName=e),required:"",placeholder:"Enter admin's first name","aria-label":"Admin first name",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.firstName]])]),(0,s.Lk)("div",Re,[t[8]||(t[8]=(0,s.Lk)("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-2"}," Last Name ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[2]||(t[2]=e=>l.adminData.lastName=e),required:"",placeholder:"Enter admin's last name","aria-label":"Admin last name",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.lastName]])]),(0,s.Lk)("div",Ke,[t[9]||(t[9]=(0,s.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email Address ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=e=>l.adminData.email=e),required:"",placeholder:"Enter admin's email","aria-label":"Admin email address",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.email]])]),(0,s.Lk)("div",Je,[t[10]||(t[10]=(0,s.Lk)("label",{for:"contact",class:"block text-sm font-medium text-gray-700 mb-2"}," Contact Number ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"contact","onUpdate:modelValue":t[4]||(t[4]=e=>l.adminData.contact=e),required:"",placeholder:"Enter admin's contact number","aria-label":"Admin contact number",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.contact]])]),(0,s.Lk)("div",qe,[t[12]||(t[12]=(0,s.Lk)("label",{for:"role",class:"block text-sm font-medium text-gray-700 mb-2"}," Assign Role ",-1)),(0,s.bo)((0,s.Lk)("select",{id:"role","onUpdate:modelValue":t[5]||(t[5]=e=>l.adminData.role=e),required:"","aria-label":"Admin role selection",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},[t[11]||(t[11]=(0,s.Lk)("option",{value:"",disabled:""},"Select a role",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.roleOptions,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.value,value:e.value},(0,m.v_)(e.label),9,We)))),128))],512),[[o.u1,l.adminData.role]])]),(0,s.Lk)("div",ze,[(0,s.Lk)("button",{type:"submit",class:(0,m.C4)([{"opacity-50 cursor-not-allowed":l.loading},"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none transition duration-200 ease-in-out"]),disabled:l.loading},(0,m.v_)(l.loading?"Sending...":"Send Invitation"),11,Qe)])],32)])])])}const Ge=[{value:"FULL",label:"Full"},{value:"EMPTY",label:"Empty"}],Ye=[{value:"ACTIVE",label:"ACTIVE"},{value:"INACTIVE",label:"INACTIVE"},{value:"PENDING",label:"PENDING"}],Ze=[{value:"ADMIN",label:"Admin"},{value:"DRIVER",label:"Driver"}];var et=Ge,tt={components:{Icon:E.In},setup(){const e=(0,be.KR)({firstName:"",lastName:"",email:"",contact:"",role:""}),t=(0,be.KR)(!1),a=async()=>{if(e.value.firstName&&e.value.lastName&&e.value.email&&e.value.contact&&e.value.role){t.value=!0,console.log("Sending Invitation:",e.value);try{await fe(e.value),alert(`Invitation sent to ${e.value.firstName} ${e.value.lastName} (${e.value.email}) as ${e.value.role}`),e.value={firstName:"",lastName:"",email:"",contact:"",role:""}}catch(a){console.error("Error sending invitation:",a),alert("Failed to send invitation. Please try again.")}finally{t.value=!1}}else alert("Please fill out all fields.")};return{adminData:e,handleSubmit:a,loading:t,roleOptions:Ze}}};const at=(0,n.A)(tt,[["render",He],["__scopeId","data-v-793aeca6"]]);var ot=at,st={components:{InviteAdminModal:ot},data(){return{isSettingsOpen:!1,isInviteAdminModalOpen:!1}},computed:{...(0,C.aH)("auth",["user"])},methods:{...(0,C.i0)("auth",["logout"]),async handleLogout(){await this.logout(),this.$router.push("/login")},toggleSettingsDropdown(){this.isSettingsOpen=!this.isSettingsOpen},openAccountSettings(){this.$router.push({name:"AccountSettings"}),this.isSettingsOpen=!1},openHelp(){alert("Opening Help & Support..."),this.isSettingsOpen=!1},openInviteAdminModal(){this.isInviteAdminModalOpen=!0,this.isSettingsOpen=!1},closeInviteAdminModal(){this.isInviteAdminModalOpen=!1}}};const lt=(0,n.A)(st,[["render",Ue],["__scopeId","data-v-2839a97b"]]);var rt=lt;const nt={class:"sidebar-header"},it={key:0,class:"admin-info"},ct={class:"admin-name"},dt={class:"sidebar-menu"},ut={key:0,class:"menu-label"};function mt(e,t,a,o,l,r){const n=(0,s.g2)("Icon"),i=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("aside",{class:(0,m.C4)(["sidebar",{collapsed:l.collapsed}])},[t[2]||(t[2]=(0,s.Lk)("div",{class:"sidebar-top-line"},null,-1)),(0,s.Lk)("div",nt,[(0,s.bF)(n,{icon:"mdi:account-circle",class:"avatar-icon"}),l.collapsed?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",it,[(0,s.Lk)("span",ct,(0,m.v_)(e.fullName||"Admin Name"),1),t[1]||(t[1]=(0,s.Lk)("span",{class:"admin-role"},"Super Admin",-1))]))]),(0,s.Lk)("ul",dt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.menuItems,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.label},[(0,s.bF)(i,{to:e.route,"active-class":"active"},{default:(0,s.k6)((()=>[(0,s.bF)(n,{icon:e.icon,class:"menu-icon"},null,8,["icon"]),l.collapsed?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",ut,(0,m.v_)(e.label),1))])),_:2},1032,["to"])])))),128))]),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleSidebar&&r.toggleSidebar(...e)),class:"collapse-toggle w-8 h-8 flex items-center justify-center text-blue-500 hover:text-blue-700 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none",title:"Add"},[(0,s.bF)(n,{icon:l.collapsed?"mdi:chevron-right":"mdi:chevron-left",class:"w-5 h-5"},null,8,["icon"])])],2)}var bt={components:{Icon:E.In},computed:{...(0,C.L8)("auth",{fullName:"userFullName"})},data(){return{collapsed:!1,menuItems:[{label:"Dashboard",route:"/dashboard",icon:"mdi:view-dashboard"},{label:"Locations",route:"/location",icon:"mdi:map-marker"},{label:"Bins",route:"/bins",icon:"mdi:trash-can"},{label:"Drivers",route:"/drivers",icon:"mdi:account"},{label:"Vehicles",route:"/vehicles",icon:"mdi:car"}]}},methods:{toggleSidebar(){this.collapsed=!this.collapsed}}};const gt=(0,n.A)(bt,[["render",mt],["__scopeId","data-v-b342a9c0"]]);var ht=gt,pt={components:{Navbar:rt,Sidebar:ht}};const vt=(0,n.A)(pt,[["render",Me]]);var ft=vt;const xt={class:"location-page"},yt={class:"sidebar"},kt={class:"bin-list"},wt=["onClick"],Lt={class:"bin-info"},Nt={class:"map-container"},Et={key:1,class:"loading-message"};function Ct(e,t,a,o,l,r){const n=(0,s.g2)("CircularProgress"),i=(0,s.g2)("MapComponent");return(0,s.uX)(),(0,s.CE)("div",xt,[(0,s.Lk)("div",yt,[t[0]||(t[0]=(0,s.Lk)("h2",{class:"title"},"Bin Locations",-1)),(0,s.Lk)("ul",kt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.bins,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,class:(0,m.C4)(["bin-item",{active:l.selectedBin?.id===e.id}]),onClick:t=>r.handleMarkerClick(e)},[(0,s.bF)(n,{status:e.status},null,8,["status"]),(0,s.Lk)("div",Lt,[(0,s.Lk)("h3",null,(0,m.v_)(e.locationName),1),(0,s.Lk)("p",null,"Last updated: "+(0,m.v_)(r.formatDateTime(e.lastUpdated)),1)])],10,wt)))),128))])]),(0,s.Lk)("div",Nt,[l.bins&&l.bins.length>0?((0,s.uX)(),(0,s.Wv)(i,{key:0,bins:l.bins,onMarkerClick:r.handleMarkerClick,centeredBin:l.selectedBin},null,8,["bins","onMarkerClick","centeredBin"])):((0,s.uX)(),(0,s.CE)("div",Et,"Loading bins data..."))])])}const Dt={id:"map",class:"map"};function St(e,t,a,o,l,r){return(0,s.uX)(),(0,s.CE)("div",Dt)}a(8992),a(3949),a(8872);var It=a(6886),At=a.n(It),_t={props:{bins:{type:Array,default:()=>[]}},data(){return{defaultCoords:[48.8566,2.3522]}},methods:{getBinIcon(e){console.log("Bin status:",e);const t="FULL"===e?"red":"green",a="\n        width: 70px;\n        height: 70px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: #f0f0f0;\n        border: 2px solid #ccc; /* Added border for visibility */\n        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n      ",o=`\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: ${t};\n        color: white;\n        font-size: 14px;\n        font-weight: bold;\n        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n      `,s="\n        font-size: 14px;\n        font-weight: bold;\n        color: #ffffff;\n        text-align: center;\n      ",l=`\n        <div style="${a}">\n          <div style="${o}">\n            <span style="${s}">${e.toUpperCase()}</span>\n          </div>\n        </div>\n      `;return At().divIcon({className:"custom-icon-wrapper",html:l,iconSize:[80,80],iconAnchor:[40,40],popupAnchor:[0,-40]})}},mounted(){console.log("Bins data (raw):",this.bins);let e=this.defaultCoords;if(this.bins.length>0){const t=this.bins.reduce(((e,t)=>e+(t.LATITUDE||this.defaultCoords[0])),0)/this.bins.length,a=this.bins.reduce(((e,t)=>e+(t.LONGITUDE||this.defaultCoords[1])),0)/this.bins.length;e=[t,a]}this.map=At().map("map").setView(e,12),At().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.bins.forEach((e=>{const t=e.latitude,a=e.longitude;if(console.log({lat:t,lng:a}),console.log("Status:",e.status),!t||!a)return void console.warn("Invalid coordinates for bin:",e);const o=At().marker([t,a],{icon:this.getBinIcon(e.status)}).addTo(this.map);o.bindPopup(`\n        <strong>${e.location_name||"Unknown Location"}</strong><br>\n        Last updated: ${e.last_updated||"N/A"}\n      `),o.on("click",(()=>{this.$emit("marker-click",e),this.map.setView([t,a],14)}))}))},beforeUnmount(){this.map&&this.map.remove()}};const Mt=(0,n.A)(_t,[["render",St],["__scopeId","data-v-4f61dc5a"]]);var Vt=Mt;const Ft={class:"progress-container"},Tt={viewBox:"0 0 36 36",class:"circular-chart"},Xt=["stroke-dasharray"],Bt={class:"progress-text"};function $t(e,t,a,o,l,r){return(0,s.uX)(),(0,s.CE)("div",Ft,[((0,s.uX)(),(0,s.CE)("svg",Tt,[t[0]||(t[0]=(0,s.Lk)("path",{class:"circle-bg",d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1)),(0,s.Lk)("path",{class:"circle",style:(0,m.Tr)({stroke:r.chartColor}),"stroke-dasharray":"full"===a.status?"100, 100":"50, 100",d:"M18 2.0845\r\n          a 15.9155 15.9155 0 0 1 0 31.831\r\n          a 15.9155 15.9155 0 0 1 0 -31.831"},null,12,Xt)])),(0,s.Lk)("div",Bt,(0,m.v_)(r.statusLabel),1)])}var Ut={props:{status:{type:String,required:!0,validator:e=>["full","empty"].includes(e)}},computed:{chartColor(){return"full"===this.status.toLowerCase()?"#e74c3c":"#2ecc71"},statusLabel(){return"full"===this.status.toLowerCase()?"Full":"Empty"}}};const jt=(0,n.A)(Ut,[["render",$t],["__scopeId","data-v-496aeb5b"]]);var Pt=jt;const Ot=async(e,t)=>{if(!e||!t)throw new Error("ID and bin data are required.");try{console.log("Updating bin data:",{id:e,...t});const{data:a}=await ve.put(`/bins/${e}`,{id:e,...t});return a}catch(a){throw console.error("Error updating bin data:",a.response?a.response.data:a.message),a}},Rt=async e=>{try{const{data:t}=await ve.delete(`/bins/${e}`);return t}catch(t){throw console.error("Error deleting bin:",t.response?t.response.data:t.message),t}},Kt=async()=>{try{const{data:e}=await ve.get("/bins");return e}catch(e){throw console.error("Error fetching all bins:",e.response?e.response.data:e.message),e}},Jt=async e=>{try{const{data:t}=await ve.post("/bins",e);return t}catch(t){throw console.error("Error creating bin:",t.response?t.response.data:t.message),t}},qt=async e=>{if(!e||!e.location)throw new Error("Location data is required.");try{const{data:t}=await ve.post(`/bins/location?location=${encodeURIComponent(e.location)}`);return t}catch(t){throw console.error("Error updating bin location:",t.response?t.response.data:t.message),t}};var Wt={components:{MapComponent:Vt,CircularProgress:Pt},data(){return{bins:[],selectedBin:null}},async mounted(){try{const e=await Kt();this.bins=e.map((e=>({...e,status:e.status>85?"Full":e.status<20?"EMPTY":"MIDDLE"})))}catch(e){console.error("Error fetching bins data:",e)}},methods:{handleMarkerClick(e){this.selectedBin=e,this.$emit("center-map",e)},formatDateTime(e){if(!e)return"N/A";const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(e).toLocaleString(void 0,t)}}};const zt=(0,n.A)(Wt,[["render",Ct],["__scopeId","data-v-119d476a"]]);var Qt=zt;const Ht={class:"min-h-screen p-6 card"},Gt={class:"flex items-center justify-between w-100 mx-auto space-x-2 p-2 bg-white shadow-md rounded-md"},Yt={class:"flex items-center space-x-2"},Zt={class:"flex items-center"},ea=["src"],ta={class:"text-base font-semibold text-gray-900 dark:text-white"},aa={class:"text-sm text-gray-500 dark:text-gray-400"},oa={key:0,class:"text-gray-700 dark:text-gray-300"},sa=["onClick"],la={key:0,class:"text-gray-700 dark:text-gray-300"},ra={class:"flex space-x-2"},na=["onClick"],ia=["onClick"];function ca(e,t,a,o,l,r){const n=(0,s.g2)("Icon"),i=(0,s.g2)("ReusableTable"),c=(0,s.g2)("VehicleModal"),d=(0,s.g2)("AddDriverModal"),u=(0,s.g2)("EditDriverModal");return(0,s.uX)(),(0,s.CE)("div",Ht,[(0,s.Lk)("div",Gt,[(0,s.Lk)("div",Yt,[(0,s.bF)(n,{icon:"mdi:truck",class:"w-6 h-6 text-gray-800 dark:text-gray-600"}),t[0]||(t[0]=(0,s.Lk)("h4",{class:"text-md font-medium text-gray-800 dark:text-black"},"Drivers",-1))])]),(0,s.bF)(i,{headers:["Driver","Vehicle","Contact","Status","Actions"],data:o.drivers,fields:["name","vehicle","contact","status","actions"]},{name:(0,s.k6)((({row:e,value:t})=>[(0,s.Lk)("div",Zt,[(0,s.Lk)("img",{src:e.image,alt:"Driver Profile",class:"w-10 h-10 rounded-full mr-3"},null,8,ea),(0,s.Lk)("div",null,[(0,s.Lk)("div",ta,(0,m.v_)(t),1),(0,s.Lk)("div",aa,(0,m.v_)(e.email),1)])])])),vehicle:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",null,[null!=e.vehicle?((0,s.uX)(),(0,s.CE)("span",oa,(0,m.v_)(e.vehicle.plateNumber),1)):((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t=>o.openAssignVehicleModal(e),class:"px-2 py-2 w-20 flex items-center gap-1 bg-blue-600 text-white text-xs rounded-full shadow hover:bg-blue-700 focus:outline-none"},[(0,s.bF)(n,{icon:"mdi:truck-plus",class:"w-4 h-4"}),t[1]||(t[1]=(0,s.eW)(" Assign "))],8,sa))])])),contact:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",null,[e.contact?((0,s.uX)(),(0,s.CE)("span",la,(0,m.v_)(e.contact),1)):(0,s.Q3)("",!0)])])),status:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",null,(0,m.v_)(e.status),1)])),actions:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",ra,[(0,s.Lk)("button",{onClick:t=>o.openEditModal(e),class:"w-8 h-8 flex items-center justify-center text-blue-500 hover:text-blue-700 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none",title:"Edit"},[(0,s.bF)(n,{icon:"mdi:pencil",class:"w-5 h-5"})],8,na),(0,s.Lk)("button",{onClick:t=>o.deleteDriver(e.id),class:"w-8 h-8 flex items-center justify-center text-red-500 hover:text-red-700 rounded-full bg-red-100 hover:bg-red-200 focus:outline-none",title:"Delete"},[(0,s.bF)(n,{icon:"mdi:trash-can",class:"w-5 h-5"})],8,ia)])])),_:1},8,["data"]),o.showVehicleModal?((0,s.uX)(),(0,s.Wv)(c,{key:0,vehicles:o.availableVehicles,onAssign:o.assignVehicle,onClose:o.closeVehicleModal},null,8,["vehicles","onAssign","onClose"])):(0,s.Q3)("",!0),e.showEditDriverModal?((0,s.uX)(),(0,s.Wv)(d,{key:1,"initial-data":e.currentDriver,onSave:e.updateDriver,onClose:e.closeEditDriverModal},null,8,["initial-data","onSave","onClose"])):(0,s.Q3)("",!0),o.showEditModal?((0,s.uX)(),(0,s.Wv)(u,{key:2,show:o.showEditModal,driver:o.selectedDriver,onSave:o.handleUpdateDriver,onClose:o.closeEditModal},null,8,["show","driver","onSave","onClose"])):(0,s.Q3)("",!0)])}a(4520);const da={class:"overflow-x-auto shadow-lg rounded-lg bg-white/80 dark:bg-white/10 p-6"},ua={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},ma={class:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400"};function ba(e,t,a,o,l,r){return(0,s.uX)(),(0,s.CE)("div",da,[(0,s.Lk)("table",ua,[(0,s.Lk)("thead",ma,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.headers,((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t,class:"px-6 py-3"},(0,m.v_)(e),1)))),128))])]),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.data,((t,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.fields,((a,l)=>((0,s.uX)(),(0,s.CE)("td",{key:l,class:"px-6 py-4 text-gray-900 dark:text-white"},[(0,s.RG)(e.$slots,a,{row:t,value:t[a],rowIndex:o,colIndex:l},(()=>[(0,s.eW)((0,m.v_)(t[a]),1)]))])))),128))])))),128))])])])}var ga={props:{headers:{type:Array,required:!0},data:{type:Array,required:!0},fields:{type:Array,required:!0}}};const ha=(0,n.A)(ga,[["render",ba]]);var pa=ha;const va={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 backdrop-blur-sm"},fa={class:"bg-white w-[680px] h-[600px] p-6 rounded-lg shadow-lg flex flex-col relative"},xa={class:"space-y-3 flex-grow overflow-y-auto"},ya={class:"text-sm font-medium text-gray-800 truncate"},ka=["onClick"];function wa(e,t,a,o,l,r){const n=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("div",va,[(0,s.Lk)("div",fa,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-full flex items-center justify-center shadow-md focus:outline-none"},[(0,s.bF)(n,{icon:"mdi:close",class:"w-5 h-5"})]),t[2]||(t[2]=(0,s.Lk)("div",{class:"flex justify-between items-center mb-4 border-b pb-2"},[(0,s.Lk)("h2",{class:"text-md font-semibold"},"Assign Vehicle")],-1)),(0,s.Lk)("ul",xa,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.vehicles,((a,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o,class:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-100"},[(0,s.Lk)("span",ya,(0,m.v_)(a.vehicleBrand),1),(0,s.Lk)("button",{onClick:t=>e.$emit("assign",a),class:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs rounded-full hover:from-blue-600 hover:to-blue-700 focus:outline-none shadow-md w-[100px] justify-center"},[(0,s.bF)(n,{icon:"mdi:check-circle-outline",class:"w-4 h-4"}),t[1]||(t[1]=(0,s.eW)(" Assign "))],8,ka)])))),128))])])])}var La={props:{vehicles:{type:Array,required:!0}},components:{Icon:E.In}};const Na=(0,n.A)(La,[["render",wa],["__scopeId","data-v-65a2588d"]]);var Ea=Na;const Ca={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm"},Da={class:"bg-white rounded-xl shadow-xl px-6 py-6 w-full max-w-lg relative"},Sa={class:"text-xl font-semibold mb-6 text-gray-800 text-left flex items-center border-b pb-2"},Ia={class:"mb-6 flex flex-col"},Aa={class:"mb-6"},_a={class:"mb-6"},Ma={class:"mb-6"};function Va(e,t,a,l,r,n){const i=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("div",Ca,[(0,s.Lk)("div",Da,[(0,s.Lk)("button",{class:"absolute top-3 right-3 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 focus:outline-none",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.bF)(i,{icon:"mdi:close-circle",class:"text-gray-600 w-5 h-5"})]),(0,s.Lk)("h2",Sa,[(0,s.bF)(i,{icon:"mdi:account-edit",class:"text-gray-800 w-6 h-6 mr-2"}),t[6]||(t[6]=(0,s.eW)(" Driver "))]),(0,s.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>n.handleSubmit&&n.handleSubmit(...e)),["prevent"])),class:"border-none m-2 p-2"},[(0,s.Lk)("div",Ia,[t[7]||(t[7]=(0,s.Lk)("label",{for:"firstName",class:"flex block text-sm font-medium text-gray-700"},"First Name",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[1]||(t[1]=e=>r.firstName=e),placeholder:"Enter first name",class:"w-full rounded-lg px-4 py-2 focus:ring focus:ring-blue-200 focus:border-blue-400 text-gray-800"},null,512),[[o.Jo,r.firstName]])]),(0,s.Lk)("div",Aa,[t[8]||(t[8]=(0,s.Lk)("label",{for:"lastName",class:"flex block text-sm font-medium text-gray-700"},"Last Name",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[2]||(t[2]=e=>r.lastName=e),placeholder:"Enter last name",class:"w-full rounded-lg px-4 py-2 focus:ring focus:ring-blue-200 focus:border-blue-400 text-gray-800"},null,512),[[o.Jo,r.lastName]])]),(0,s.Lk)("div",_a,[t[9]||(t[9]=(0,s.Lk)("label",{for:"email",class:"flex block text-sm font-medium text-gray-700"},"Email",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=e=>r.email=e),placeholder:"Enter email address",class:"w-full rounded-lg px-4 py-2 focus:ring focus:ring-blue-200 focus:border-blue-400 text-gray-800"},null,512),[[o.Jo,r.email]])]),(0,s.Lk)("div",Ma,[t[10]||(t[10]=(0,s.Lk)("label",{for:"contact",class:"flex block text-sm font-medium text-gray-700"},"Contact",-1)),(0,s.bo)((0,s.Lk)("input",{type:"contact",id:"contact","onUpdate:modelValue":t[4]||(t[4]=e=>r.contact=e),placeholder:"Enter Contact address",class:"w-full rounded-lg px-4 py-2 focus:ring focus:ring-blue-200 focus:border-blue-400 text-gray-800"},null,512),[[o.Jo,r.contact]])]),t[11]||(t[11]=(0,s.Lk)("div",{class:"flex justify-end border-t p-2"},[(0,s.Lk)("button",{type:"submit",class:"bg-blue-500 text-white font-medium px-4 py-2 mt-6 rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-300 w-24"}," Save ")],-1))],32)])])}var Fa={name:"EditDriverModal",props:{},data(){return{firstName:"",lastName:"",email:"",contact:""}},methods:{handleSubmit(){const e={firstName:this.firstName,lastName:this.lastName,email:this.email,contac:this.contact};console.log("Form submitted with data:",e),this.$emit("submit",e)}}};const Ta=(0,n.A)(Fa,[["render",Va]]);var Xa=Ta;const Ba={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},$a={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6"},Ua={class:"flex justify-between items-center mb-4"},ja=["value"],Pa={class:"flex justify-end space-x-3 mt-6"};function Oa(e,t,a,l,r,n){const i=(0,s.g2)("Icon");return a.show?((0,s.uX)(),(0,s.CE)("div",Ba,[(0,s.Lk)("div",$a,[(0,s.Lk)("div",Ua,[t[8]||(t[8]=(0,s.Lk)("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Edit Driver",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"text-gray-400 hover:text-gray-500"},[t[7]||(t[7]=(0,s.Lk)("span",{class:"sr-only"},"Close",-1)),(0,s.bF)(i,{icon:"mdi:close",class:"w-6 h-6"})])]),(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>l.handleSubmit&&l.handleSubmit(...e)),["prevent"])),class:"space-y-4"},[(0,s.Lk)("div",null,[t[9]||(t[9]=(0,s.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Name",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.name=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[o.Jo,l.formData.name]])]),(0,s.Lk)("div",null,[t[10]||(t[10]=(0,s.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Email",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.email=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[o.Jo,l.formData.email]])]),(0,s.Lk)("div",null,[t[11]||(t[11]=(0,s.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Contact",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.contact=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[o.Jo,l.formData.contact]])]),(0,s.Lk)("div",null,[t[12]||(t[12]=(0,s.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.status=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.STATUS_OPTIONS,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.value,value:e.value},(0,m.v_)(e.label),9,ja)))),128))],512),[[o.u1,l.formData.status]])]),(0,s.Lk)("div",Pa,[(0,s.Lk)("button",{type:"button",onClick:t[5]||(t[5]=t=>e.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),t[13]||(t[13]=(0,s.Lk)("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700"}," Save Changes ",-1))])],32)])])):(0,s.Q3)("",!0)}var Ra={components:{Icon:E.In},props:{show:Boolean,driver:Object},setup(e,{emit:t}){const a=(0,be.KR)({name:"",email:"",contact:"",status:Ye[0].value});(0,s.wB)((()=>e.driver),(e=>{e&&(a.value={...e})}),{immediate:!0});const o=()=>{t("save",a.value)};return{formData:a,handleSubmit:o,STATUS_OPTIONS:Ye}}};const Ka=(0,n.A)(Ra,[["render",Oa]]);var Ja=Ka;const qa=async()=>{const{data:e}=await ve.get("/admin/get_drivers");return e},Wa=async(e,t)=>{const{data:a}=await ve.put(`/admin/update_driver/${e}`,t);return a},za=async e=>{const{data:t}=await ve.delete(`/admin/remove_driver/${e}`);return t},Qa=async()=>{const{data:e}=await ve.get("/vehicles");return e},Ha=async e=>{try{console.log("Adding vehicle data:",e);const{data:t}=await ve.post("/vehicles",e);return t}catch(t){throw console.error("Error adding vehicle:",t.response?t.response.data:t.message),t}},Ga=async(e,t)=>{const{data:a}=await ve.put(`/vehicles/${e}`,t);return a},Ya=async e=>{const{data:t}=await ve.get(`/vehicles/${e}`);return t},Za=async e=>{const{data:t}=await ve.delete(`/vehicles/${e}`);return t},eo=async()=>{const{data:e}=await ve.get("/drivers/available-drivers");return e};var to={components:{ReusableTable:pa,VehicleModal:Ea,AddDriverModal:Xa,Icon:E.In,EditDriverModal:Ja},setup(){const e=(0,be.KR)([]),t=(0,be.KR)([]),a=(0,be.KR)(!1),o=(0,be.KR)(null),l=(0,be.KR)(!1),r=async()=>{try{const t=await qa();e.value=t?.map((e=>({id:e.userId,name:e.firstName+" "+e.lastName,email:e.email,status:e.status,image:"https://i.pinimg.com/736x/8b/16/7a/8b167af653c2399dd93b952a48740620.jpg",contact:e.contactNumber,vehicle:e.vehicle}))),console.log("driver vehicle data",e.value[0].vehicle)}catch(t){console.error("Error fetching drivers",t)}},n=async()=>{try{const e=await Qa();t.value=e}catch(e){console.error("Error fetching vehicles",e)}};(0,s.sV)((async()=>{await r(),await n()}));const i=e=>{console.log(`Status updated for ${e.name}: ${e.status}`)},c=e=>{console.log("driver data to be updated",e),o.value={...e},a.value=!0},d=()=>{a.value=!1,o.value=null},u=async t=>{console.log("updated driver details",t);try{await Wa(t.id,t);const a=e.value.findIndex((e=>e.id===t.id));-1!==a&&(e.value[a]={...t}),d()}catch(a){console.error("Error updating driver:",a)}},m=async t=>{console.log("acessing delete function",t);try{await za(t),e.value=e.value.filter((e=>e.id!==t)),console.log("Driver deleted successfully")}catch(a){console.error("Error deleting driver:",a)}},b=e=>{console.log("driver data",e),o.value=e,l.value=!0},g=()=>{l.value=!1,o.value=null},h=async e=>{console.log("accessing assign vehicle");try{const t={...e,userId:o.value.id,driver:{firstName:o.value.name.split(" ")[0],lastName:o.value.name.split(" ")[1],email:o.value.email,contactNumber:o.value.contact,userId:o.value.id}};console.log("vehicle data",e),console.log("user data",o),await Ga(e.vehicleId,t),console.log("vehicle assigned successfully"),await r(),g()}catch(t){console.error("Error assigning vehicle",t)}};return{drivers:e,availableVehicles:t,STATUS_OPTIONS:Ye,updateStatus:i,showEditModal:a,selectedDriver:o,openEditModal:c,closeEditModal:d,handleUpdateDriver:u,deleteDriver:m,showVehicleModal:l,openAssignVehicleModal:b,closeVehicleModal:g,assignVehicle:h}}};const ao=(0,n.A)(to,[["render",ca],["__scopeId","data-v-f8c769a6"]]);var oo=ao;const so={class:"min-h-screen p-6 card"},lo={class:"flex justify-between items-center p-4 bg-white shadow-md rounded-md"},ro={class:"flex items-center space-x-2"},no={class:"flex items-center space-x-4"},io={class:"text-base font-medium text-gray-900 dark:text-white"},co={class:"text-base text-gray-900 dark:text-white"},uo={class:"text-base text-gray-900 dark:text-white"},mo={class:"flex space-x-2"},bo=["onClick"],go=["onClick"];function ho(e,t,a,o,l,r){const n=(0,s.g2)("Icon"),i=(0,s.g2)("ReusableTable"),c=(0,s.g2)("EditBinModal");return(0,s.uX)(),(0,s.CE)("div",so,[(0,s.Lk)("div",lo,[(0,s.Lk)("div",ro,[(0,s.bF)(n,{icon:"mdi:trash-can",class:"w-6 h-6 text-gray-800 dark:text-gray-600"}),t[1]||(t[1]=(0,s.Lk)("h4",{class:"text-lg font-medium text-gray-800 dark:text-black"},"Bin Management",-1))]),(0,s.Lk)("div",no,[t[2]||(t[2]=(0,s.Lk)("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Add Bin",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.openAddBinModal&&o.openAddBinModal(...e)),class:"w-8 h-8 flex items-center justify-center text-blue-500 hover:text-blue-700 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none",title:"Add"},[(0,s.bF)(n,{icon:"mdi:add",class:"w-5 h-5"})])])]),(0,s.bF)(i,{headers:["Location","Latitude","Longitude","Status","Actions"],data:o.filteredBins,fields:["locationName","latitude","longitude","status","actions"]},{locationName:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",io,(0,m.v_)(e.locationName),1)])),latitude:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",co,(0,m.v_)(e.latitude),1)])),longitude:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",uo,(0,m.v_)(e.longitude),1)])),status:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",{class:(0,m.C4)([{"bg-green-100 text-green-700":e.status<=15,"bg-yellow-100 text-yellow-700":e.status>15&&e.status<85,"bg-red-100 text-red-700":e.status>85},"inline-flex items-center justify-center px-3 py-1 text-sm font-medium rounded-full shadow-sm"])},(0,m.v_)(e.status),3)])),actions:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",mo,[(0,s.Lk)("button",{onClick:t=>o.openEditBinModal(e),class:"w-8 h-8 flex items-center justify-center text-blue-500 hover:text-blue-700 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none",title:"Edit"},[(0,s.bF)(n,{icon:"mdi:pencil",class:"w-5 h-5"})],8,bo),(0,s.Lk)("button",{onClick:t=>o.deleteBin(e.id),class:"w-8 h-8 flex items-center justify-center text-red-500 hover:text-red-700 rounded-full bg-red-100 hover:bg-red-200 focus:outline-none",title:"Delete"},[(0,s.bF)(n,{icon:"mdi:trash-can",class:"w-5 h-5"})],8,go)])])),_:1},8,["data"]),o.showEditBinModal?((0,s.uX)(),(0,s.Wv)(c,{key:0,"initial-data":o.currentBin,onSave:o.saveBinChanges,onClose:o.closeEditBinModal},null,8,["initial-data","onSave","onClose"])):(0,s.Q3)("",!0)])}const po={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm"},vo={class:"bg-white rounded-xl shadow-xl px-6 py-6 w-full max-w-lg relative"},fo={class:"text-xl font-semibold mb-6 text-gray-800 text-left flex items-center border-b pb-2"},xo={class:"mb-6"},yo={key:0,class:"absolute bg-white border border-gray-300 rounded-lg mt-1 w-64 max-w-full shadow-lg z-10"},ko=["onClick"],wo={class:"mb-6"},Lo={class:"mb-6"},No={class:"flex justify-end space-x-4 border-t border-gray-200 pt-4"},Eo={type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none"};function Co(e,t,a,l,r,n){const i=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("div",po,[(0,s.Lk)("div",vo,[(0,s.Lk)("button",{class:"absolute top-3 right-3 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 focus:outline-none",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.bF)(i,{icon:"mdi:close-circle",class:"text-gray-600 w-5 h-5"})]),(0,s.Lk)("h2",fo,[(0,s.bF)(i,{icon:"mdi:trash-can",class:"menu-icon"}),(0,s.eW)(" "+(0,m.v_)(e.isEdit?"Edit Bin":"Add Bin"),1)]),(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>n.handleSubmit&&n.handleSubmit(...e)),["prevent"])),class:"m-2 p-2 border-none"},[(0,s.Lk)("div",xo,[t[7]||(t[7]=(0,s.Lk)("label",{for:"locationName",class:"flex block pb-4 text-sm font-medium text-gray-700"},"Location",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"locationName","onUpdate:modelValue":t[1]||(t[1]=e=>r.localData.locationName=e),onInput:t[2]||(t[2]=(...e)=>r.debouncedFetchLocationSuggestions&&r.debouncedFetchLocationSuggestions(...e)),placeholder:"Enter location",class:"w-full rounded-lg px-4 py-2 focus:ring focus:ring-blue-200 focus:border-blue-400 text-gray-800 border border-gray-300"},null,544),[[o.Jo,r.localData.locationName]]),r.locationSuggestions.length?((0,s.uX)(),(0,s.CE)("ul",yo,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.locationSuggestions,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,onClick:t=>n.selectLocation(e),class:"px-4 py-2 hover:bg-blue-100 cursor-pointer transition duration-200 ease-in-out"},(0,m.v_)(e.name),9,ko)))),128))])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",wo,[(0,s.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>n.getCurrentLocation&&n.getCurrentLocation(...e)),class:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none"}," Use Current Location ")]),(0,s.Lk)("div",Lo,[t[8]||(t[8]=(0,s.Lk)("label",{for:"status",class:"flex block pb-4 text-sm font-medium text-gray-700"},"Status",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"status",placeholder:"Enter the current satus of bin","onUpdate:modelValue":t[4]||(t[4]=e=>r.localData.status=e),class:"w-full rounded-lg px-4 py-2 bg-white border border-gray-300 focus:ring focus:ring-blue-300 focus:border-blue-500 text-gray-800"},null,512),[[o.Jo,r.localData.status,void 0,{number:!0}]])]),(0,s.Lk)("div",No,[(0,s.Lk)("button",{type:"button",onClick:t[5]||(t[5]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none"}," Cancel "),(0,s.Lk)("button",Eo,(0,m.v_)(e.isEdit?"Save Changes":"Add Bin"),1)])],32)])])}async function Do(e,t){try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${e}&lon=${t}&format=json`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=await a.json();return o.display_name||"Current Location"}catch(a){return console.error("Error fetching location name:",a),"Current Location"}}function So(e,t){let a;return function(...o){const s=this;clearTimeout(a),a=setTimeout((()=>e.apply(s,o)),t)}}var Io={data(){return{localData:{...this.initialData,id:null,lastUpdated:null},statusOptions:et,locationSuggestions:[],debouncedFetchLocationSuggestions:null}},created(){this.debouncedFetchLocationSuggestions=So(this.fetchLocationSuggestions,300)},methods:{handleSubmit(){const e={id:this.localData.id,lastUpdated:new Date,latitude:this.localData.latitude,longitude:this.localData.longitude,locationName:this.localData.locationName,status:this.localData.status};this.$emit("save",e)},async fetchLocationSuggestions(){if(this.localData.locationName.length>2)try{const e=await qt({location:this.localData.locationName});this.locationSuggestions=e}catch(e){console.error("Error fetching location suggestions:",e)}else this.locationSuggestions=[]},selectLocation(e){this.localData.id=e.id,this.localData.locationName=e.address?.city||e.name,this.localData.latitude=e.lat,this.localData.longitude=e.lon,this.locationSuggestions=[]},async getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition((async e=>{this.localData.latitude=e.coords.latitude,this.localData.longitude=e.coords.longitude;const t=await Do(this.localData.latitude,this.localData.longitude);this.localData.locationName=t.length>30?t.substring(0,30):t}),(e=>{console.error("Geolocation error:",e)})):console.error("Geolocation is not supported by this browser.")}}};const Ao=(0,n.A)(Io,[["render",Co],["__scopeId","data-v-2e6c15f3"]]);var _o=Ao,Mo={components:{ReusableTable:pa,EditBinModal:_o,Icon:E.In},setup(){const e=(0,be.KR)([]),t=(0,be.KR)(!1),a=(0,be.KR)(null),o=(0,s.EW)((()=>e.value));(0,s.sV)((async()=>{await l()}));const l=async()=>{try{const t=await Kt();e.value=t.map((e=>({id:e.id,locationName:e.locationName,latitude:e.latitude,longitude:e.longitude,status:e.status})))}catch(t){console.error("Error fetching bins:",t)}},r=()=>{a.value=null,t.value=!0},n=e=>{a.value={...e},t.value=!0},i=()=>{t.value=!1},c=async e=>{if(a.value)try{await Ot(a.value.id,{...a.value,locationName:e.locationName,...e}),await l()}catch(t){console.error("Error updating bin:",t)}else try{await Jt({...e,locationName:e.locationName}),await l()}catch(t){console.error("Error creating bin:",t)}i()},d=async e=>{try{await Rt(e),await l()}catch(t){console.error("Error deleting bin:",t)}};return{bins:e,filteredBins:o,showEditBinModal:t,currentBin:a,openAddBinModal:r,openEditBinModal:n,closeEditBinModal:i,saveBinChanges:c,deleteBin:d}}};const Vo=(0,n.A)(Mo,[["render",ho]]);var Fo=Vo;const To={class:"min-h-screen p-6 card"},Xo={class:"flex items-center justify-between w-100 mx-auto space-x-2 p-2 bg-white shadow-md rounded-md"},Bo={class:"flex items-center space-x-2"},$o={class:"flex items-center space-x-4"},Uo={class:"text-base font-medium text-gray-900 dark:text-white"},jo={class:"text-gray-700 dark:text-gray-300"},Po={class:"text-gray-700 dark:text-gray-300"},Oo={class:"flex space-x-2"},Ro=["onClick"],Ko=["onClick"];function Jo(e,t,a,o,l,r){const n=(0,s.g2)("Icon"),i=(0,s.g2)("ReusableTable"),c=(0,s.g2)("VehicleModal");return(0,s.uX)(),(0,s.CE)("div",To,[(0,s.Lk)("div",Xo,[(0,s.Lk)("div",Bo,[(0,s.bF)(n,{icon:"mdi:car",class:"w-6 h-6 text-gray-800 dark:text-gray-600"}),t[1]||(t[1]=(0,s.Lk)("h4",{class:"text-md font-medium text-gray-800 dark:text-black"},"Vehicles",-1))]),(0,s.Lk)("div",$o,[t[2]||(t[2]=(0,s.Lk)("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Add Vehicle",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.openAddVehicleModal&&o.openAddVehicleModal(...e)),class:"w-8 h-8 flex items-center justify-center text-blue-500 hover:text-blue-700 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none",title:"Add"},[(0,s.bF)(n,{icon:"mdi:add",class:"w-5 h-5"})])])]),(0,s.bF)(i,{headers:["Vehicle Brand","Plate Number","Driver Name","Actions"],data:o.vehicles,fields:["brand","plateNumber","driverName","actions"]},{brand:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",Uo,(0,m.v_)(e.brand),1)])),plateNumber:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",jo,(0,m.v_)(e.plateNumber),1)])),driverName:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",Po,(0,m.v_)(e.driverName),1)])),actions:(0,s.k6)((({row:e})=>[(0,s.Lk)("div",Oo,[(0,s.Lk)("button",{onClick:t=>o.openEditVehicleModal(e),class:"w-8 h-8 flex items-center justify-center text-blue-500 hover:text-blue-700 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none",title:"Edit"},[(0,s.bF)(n,{icon:"mdi:pencil",class:"w-5 h-5"})],8,Ro),(0,s.Lk)("button",{onClick:t=>o.deleteVehicle(e.id),class:"w-8 h-8 flex items-center justify-center text-red-500 hover:text-red-700 rounded-full bg-red-100 hover:bg-red-200 focus:outline-none",title:"Delete"},[(0,s.bF)(n,{icon:"mdi:trash-can",class:"w-5 h-5"})],8,Ko)])])),_:1},8,["data"]),o.showVehicleModal?((0,s.uX)(),(0,s.Wv)(c,{key:0,vehicleData:o.currentVehicle,onSubmit:o.handleVehicleSubmit,onClose:o.closeVehicleModal},null,8,["vehicleData","onSubmit","onClose"])):(0,s.Q3)("",!0)])}const qo={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm"},Wo={class:"bg-white rounded-xl shadow-xl px-6 py-6 w-full max-w-lg relative"},zo={class:"text-xl font-semibold mb-6 text-gray-800 text-left flex items-center border-b pb-2"},Qo={class:"mb-6"},Ho={class:"mb-6"},Go={class:"mb-6"},Yo=["value"],Zo={class:"flex justify-end space-x-4 border-t border-gray-200 pt-4"},es={type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none"};function ts(e,t,a,l,r,n){const i=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("div",qo,[(0,s.Lk)("div",Wo,[(0,s.Lk)("button",{class:"absolute top-3 right-3 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 focus:outline-none",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.bF)(i,{icon:"mdi:close-circle",class:"text-gray-600 w-5 h-5"})]),(0,s.Lk)("h2",zo,[(0,s.bF)(i,{icon:"mdi:car",class:"text-gray-800 w-6 h-6 mr-2"}),(0,s.eW)(" "+(0,m.v_)(r.isEdit?"Edit Vehicle":"Add Vehicle"),1)]),(0,s.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>n.handleSubmit&&n.handleSubmit(...e)),["prevent"])),class:"border-none m-2 p-2"},[(0,s.Lk)("div",Qo,[t[6]||(t[6]=(0,s.Lk)("label",{for:"brand",class:"flex block text-sm font-medium text-gray-700"}," Vehicle Brand ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"brand","onUpdate:modelValue":t[1]||(t[1]=e=>r.localData.brand=e),placeholder:"Enter vehicle brand",class:"w-full rounded-lg px-4 py-2 focus:ring focus:ring-blue-200 focus:border-blue-400 text-gray-800 border border-gray-300"},null,512),[[o.Jo,r.localData.brand]])]),(0,s.Lk)("div",Ho,[t[7]||(t[7]=(0,s.Lk)("label",{for:"plateNumber",class:"flex block text-sm font-medium text-gray-700"}," Plate Number ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"plateNumber","onUpdate:modelValue":t[2]||(t[2]=e=>r.localData.plateNumber=e),placeholder:"Enter plate number",class:"w-full rounded-lg px-4 py-2 focus:ring focus:ring-blue-200 focus:border-blue-400 text-gray-800 border border-gray-300"},null,512),[[o.Jo,r.localData.plateNumber]])]),(0,s.Lk)("div",Go,[t[9]||(t[9]=(0,s.Lk)("label",{for:"driverName",class:"flex block text-sm font-medium text-gray-700"}," Assign Driver ",-1)),(0,s.bo)((0,s.Lk)("select",{id:"driverName","onUpdate:modelValue":t[3]||(t[3]=e=>r.localData.driverId=e),class:"w-full rounded-lg px-4 py-2 bg-white border border-gray-300 focus:ring focus:ring-blue-300 focus:border-blue-500 text-gray-800"},[t[8]||(t[8]=(0,s.Lk)("option",{value:"",disabled:""},"Select a driver",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.availableDrivers,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.firstName)+" "+(0,m.v_)(e.lastName),9,Yo)))),128))],512),[[o.u1,r.localData.driverId]])]),(0,s.Lk)("div",Zo,[(0,s.Lk)("button",{type:"button",onClick:t[4]||(t[4]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none"}," Cancel "),(0,s.Lk)("button",es,(0,m.v_)(r.isEdit?"Save Changes":"Add Vehicle"),1)])],32)])])}var as={name:"VehicleModal",props:{vehicleData:{type:Object,required:!1,default:()=>({id:null})}},data(){return{localData:{brand:"",plateNumber:"",driverId:null},isSubmitting:!1,availableDrivers:[],isEdit:!1}},async created(){this.vehicleData?.id?(this.isEdit=!0,await this.loadVehicleDetails()):this.isEdit=!1,await this.loadDrivers()},methods:{async loadVehicleDetails(){try{const e=await Ya(this.vehicleData.id);this.localData={brand:e?.vehicleBrand||"",plateNumber:e?.plateNumber||"",driverId:e?.driver?.userId||null},e.driver&&(this.availableDrivers=[{id:e.driver.userId,firstName:e.driver.firstName,lastName:e.driver.lastName}])}catch(e){console.error("Error loading vehicle details:",e)}},async loadDrivers(){try{const e=await eo();this.isEdit&&this.localData.driverId?this.availableDrivers=[...this.availableDrivers,...e.filter((e=>e.id!==this.localData.driverId))]:this.availableDrivers=e}catch(e){console.error("Error loading drivers:",e)}},async handleSubmit(){if(this.isSubmitting)return;this.isSubmitting=!0;const e={vehicleBrand:this.localData.brand,plateNumber:this.localData.plateNumber,userId:this.localData.driverId||null};try{this.$emit("submit",e)}catch(t){console.error("Error submitting vehicle data:",t)}finally{this.isSubmitting=!1}}}};const os=(0,n.A)(as,[["render",ts]]);var ss=os,ls={components:{ReusableTable:pa,VehicleModal:ss,Icon:E.In},setup(){const e=(0,be.KR)([]),t=(0,be.KR)(!1),a=(0,be.KR)(null),o=async()=>{try{const t=await Qa();e.value=t?.map((e=>({id:e.vehicleId,brand:e.vehicleBrand,plateNumber:e.plateNumber,driverName:e.driver?.userId?e.driver?.firstName+" "+e.driver?.lastName:"Unassigned"})))}catch(t){console.error("Error fetching vehicles:",t)}};(0,s.sV)((async()=>{await o()}));const l=()=>{a.value=null,t.value=!0},r=e=>{console.log(e,"vehicle"),a.value={id:e.id},t.value=!0},n=()=>{t.value=!1},i=async e=>{if(e instanceof Event)console.error("SubmitEvent detected unexpectedly:",e);else{console.log("Received payload in parent component:",e);try{a.value?await Ga(a.value.id,e):await Ha(e),await o()}catch(t){console.error("Error while submitting vehicle data in parent:",t)}finally{n()}}},c=async e=>{try{await Za(e),await o()}catch(t){console.error("Error deleting vehicle:",t)}};return{vehicles:e,showVehicleModal:t,currentVehicle:a,openAddVehicleModal:l,openEditVehicleModal:r,closeVehicleModal:n,handleVehicleSubmit:i,deleteVehicle:c}}};const rs=(0,n.A)(ls,[["render",Jo]]);var ns=rs;const is={class:"min-h-screen p-6 card"},cs={class:"flex items-center justify-between w-full mx-auto p-2 bg-white shadow-md rounded-md border-b m-4"},ds={class:"flex items-center space-x-2"},us={class:"w-full mx-auto p-2 bg-white shadow-md rounded-md"},ms={class:"flex w-full gap-4 mb-6"},bs={class:"w-1/2"},gs={class:"w-1/2"},hs={class:"flex w-full gap-4 mb-6"},ps={class:"w-1/2"},vs={class:"w-1/2"},fs={class:"flex w-full gap-4 mb-6"},xs={class:"w-1/2"},ys=["value"],ks={class:"flex justify-end"},ws=["disabled"];function Ls(e,t,a,l,r,n){const i=(0,s.g2)("CustomAlert"),c=(0,s.g2)("Icon");return(0,s.uX)(),(0,s.CE)("div",is,[l.alertVisible?((0,s.uX)(),(0,s.Wv)(i,{key:0,message:l.alertMessage,alertType:l.alertType,onClose:t[0]||(t[0]=e=>l.alertVisible=!1)},null,8,["message","alertType"])):(0,s.Q3)("",!0),(0,s.Lk)("div",cs,[(0,s.Lk)("div",ds,[(0,s.bF)(c,{icon:"mdi:user-settings",class:"w-6 h-6 text-gray-800 dark:text-gray-600"}),t[7]||(t[7]=(0,s.Lk)("h4",{class:"text-md font-medium text-gray-800 dark:text-black"},"Settings",-1))])]),(0,s.Lk)("div",us,[(0,s.Lk)("div",ms,[(0,s.Lk)("div",bs,[t[8]||(t[8]=(0,s.Lk)("label",{for:"first_name",class:"flex block text-sm font-medium text-gray-700 mb-2"}," First Name ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"first_name","onUpdate:modelValue":t[1]||(t[1]=e=>l.adminData.firstName=e),required:"",placeholder:"Enter admin's First Name","aria-label":"Admin First Name",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.firstName]])]),(0,s.Lk)("div",gs,[t[9]||(t[9]=(0,s.Lk)("label",{for:"last_name",class:"flex block text-sm font-medium text-gray-700 mb-2"}," Last Name ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"last_name","onUpdate:modelValue":t[2]||(t[2]=e=>l.adminData.lastName=e),required:"",placeholder:"Enter admin's Last Name","aria-label":"Admin Last Name",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.lastName]])])]),(0,s.Lk)("div",hs,[(0,s.Lk)("div",ps,[t[10]||(t[10]=(0,s.Lk)("label",{for:"email",class:"flex block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=e=>l.adminData.email=e),required:"",placeholder:"Enter admin's Email","aria-label":"Admin Email",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.email]])]),(0,s.Lk)("div",vs,[t[11]||(t[11]=(0,s.Lk)("label",{for:"contact_number",class:"flex block text-sm font-medium text-gray-700 mb-2"}," Contact Number ",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"contact_number","onUpdate:modelValue":t[4]||(t[4]=e=>l.adminData.contactNumber=e),required:"",placeholder:"Enter admin's Contact Number","aria-label":"Admin Contact Number",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},null,512),[[o.Jo,l.adminData.contactNumber]])])]),(0,s.Lk)("div",fs,[(0,s.Lk)("div",xs,[t[13]||(t[13]=(0,s.Lk)("label",{for:"role",class:"flex block text-sm font-medium text-gray-700 mb-2"}," Role ",-1)),(0,s.bo)((0,s.Lk)("select",{id:"role","onUpdate:modelValue":t[5]||(t[5]=e=>l.adminData.role=e),required:"",class:"w-full px-4 py-2 border rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400"},[t[12]||(t[12]=(0,s.Lk)("option",{disabled:"",value:""},"Select Role",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.roles,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.value,value:e.value},(0,m.v_)(e.label.toLowerCase()),9,ys)))),128))],512),[[o.u1,l.adminData.role]])])]),(0,s.Lk)("div",ks,[(0,s.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.handleSubmit&&l.handleSubmit(...e)),disabled:l.loading,class:"px-6 py-2 bg-blue-500 text-white font-medium rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400"},(0,m.v_)(l.loading?"Updating...":"Update Admin"),9,ws)])])])}a(7550);function Ns(e,t,a,o,l,r){return a.visible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,m.C4)(`alert ${a.alertType}`)},[(0,s.Lk)("span",null,(0,m.v_)(a.message),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.close&&r.close(...e)),class:"close-button"},"X")],2)):(0,s.Q3)("",!0)}var Es={props:{message:String,alertType:{type:String,default:"error"},visible:Boolean},methods:{close(){this.$emit("close")}}};const Cs=(0,n.A)(Es,[["render",Ns],["__scopeId","data-v-7c7f07db"]]);var Ds=Cs,Ss={components:{Icon:E.In,CustomAlert:Ds},setup(){const e=(0,be.KR)({firstName:"",lastName:"",email:"",contactNumber:"",role:""}),t=(0,be.KR)(Ze),a=(0,be.KR)(!1),o=(0,be.KR)(!1),l=(0,be.KR)(""),r=(0,be.KR)("error"),n=JSON.parse(localStorage.getItem("auth_user"));n&&(e.value.firstName=n.firstName||"",e.value.lastName=n.lastName||"",e.value.email=n.email||"",e.value.contactNumber=n.contactNumber||"",e.value.role=n.role?n.role.toLowerCase():"");const i=async()=>{const t=JSON.parse(localStorage.getItem("auth_user"));if(t?.userId)try{const a=await xe(t?.userId);console.log("Fetched Admin Data:",a),e.value={firstName:a.firstName||"",lastName:a.lastName||"",email:a.email||"",contactNumber:a.contactNumber||"",role:a.role?a.role.toLowerCase():""};const o=e.value.role;Ze.some((e=>e.value===o))||console.warn("Role not found in ROLE_OPTIONS:",o)}catch(a){console.error("Error fetching admin data:",a),d("Error fetching admin data.","error")}};(0,s.sV)((()=>{i()}));const c=async()=>{if(e.value.firstName&&e.value.lastName&&e.value.email&&e.value.contactNumber&&e.value.role){a.value=!0,console.log("Sending Admin Data:",JSON.stringify(e.value,null,2));try{const t=JSON.parse(localStorage.getItem("auth_user"));await ye(t?.userId,{...e.value,role:e.value.role}),d("Admin updated successfully.","success"),e.value={firstName:"",lastName:"",email:"",contactNumber:"",role:""}}catch(t){d("Error updating admin data.","error")}a.value=!1}else d("Please fill out all fields.","error")},d=(e,t)=>{l.value=e,r.value=t,o.value=!0};return{adminData:e,roles:t,handleSubmit:c,loading:a,alertVisible:o,alertMessage:l,alertType:r}}};const Is=(0,n.A)(Ss,[["render",Ls],["__scopeId","data-v-779398be"]]);var As=Is;const _s=[{path:"/",name:"Home",beforeEnter:(e,t,a)=>{const o=Se.getters["auth/isAuthenticated"];a(o?"/dashboard":"/login")}},{path:"/login",name:"Login",component:I,meta:{requiresAuth:!1}},{path:"/signup",name:"Signup",component:q,meta:{requiresAuth:!1}},{path:"/",component:ft,meta:{requiresAuth:!0},children:[{path:"/dashboard",name:"Dashboard",component:Ee},{path:"/location",name:"Location",component:Qt},{path:"/drivers",name:"Drivers",component:oo},{path:"/vehicles",name:"Vehicles",component:ns},{path:"/bins",name:"Bins",component:Fo},{path:"/settings",name:"AccountSettings",component:As}]}],Ms=(0,u.aE)({history:(0,u.LA)(),routes:_s});Ms.beforeEach(((e,t,a)=>{const o=Se.getters["auth/isAuthenticated"];e.meta.requiresAuth&&!o?a("/login"):"/login"===e.path&&o?a("/dashboard"):a()}));var Vs=Ms;const Fs=(0,o.Ef)(d);Fs.component("Icon",E.In),Fs.use(Vs),Fs.use(Se),Fs.mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,l){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],l=e[d][2];for(var n=!0,i=0;i<o.length;i++)(!1&l||r>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[i])}))?o.splice(i--,1):(n=!1,l<r&&(r=l));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,s,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,l,r=o[0],n=o[1],i=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(i)var d=i(a)}for(t&&t(o);c<r.length;c++)l=r[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},o=self["webpackChunkwaste_management"]=self["webpackChunkwaste_management"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(7198)}));o=a.O(o)})();
//# sourceMappingURL=app.80e73914.js.map